var problemContainer=document.getElementById("demo"),progressBar=document.getElementById("myBar"),Model={a:"",b:"",correctAnswer:"",tempAnswer:"",range:51,score:0,signOperation:function(){return["+","-","*","/"][Math.floor(4*Math.random())]},calculate:function(){var t=this.signOperation(),e="";switch(this.a=this.randomizer(),this.b=this.randomizer(),t){case"+":this.correctAnswer=this.plus();break;case"-":this.correctAnswer=this.minus();break;case"*":this.correctAnswer=this.multy();break;case"/":this.correctAnswer=this.divide()}return this.tempAnswer=this.getTempAnswer(this.correctAnswer,t),e+='<div id="score">Score: '+this.score+"</div>",e+=this.a+" "+t+" "+this.b+" = "+this.tempAnswer},randomizer:function(){return Math.floor(Math.random()*this.range)},getTempAnswer:function(t,e){var i=Math.floor(3*Math.random());if(1==i)return t;if("*"==e&&10<t){if(0==i)return t-10;if(2==i)return t+10}return Math.floor(Math.random()*t+10)+t-10},plus:function(){return this.a+this.b},minus:function(){for(this.b==this.range-1&&(this.a=this.b);this.a<this.b;)this.a=this.randomizer(),this.b=this.randomizer();return this.a-this.b},multy:function(){var t=Math.floor(2*Math.random());return 10<this.a&&10<this.b&&(0==t?this.a=Math.floor(11*Math.random()):this.b=Math.floor(11*Math.random())),this.a*this.b},divide:function(){for(;this.a%this.b!=0;)this.a=this.randomizer(),this.b=this.randomizer();return this.a/this.b},checkAnswer:function(t){return!0===t?this.tempAnswer==this.correctAnswer:this.tempAnswer!=this.correctAnswer}},View=Model;View.width=0,View.height=15,View.playButton=document.getElementById("play"),View.markButton=document.getElementById("mark"),View.crossButton=document.getElementById("cross"),View.frontpage=function(){problemContainer.innerHTML="MathForces",document.getElementById("myProgress").style.display="none"},View.setLineInterval=function(){var t=setInterval(function(){progressBar.style.width=View.width+"%",View.width<=0?(clearInterval(t),problemContainer.innerHTML="<small>You scored:</small><br>"+Model.score,View.playButton.innerHTML='<i class="fas fa-redo fa-2x"></i>',View.playButton.style.display="inline-block",View.markButton.style.display="none",View.crossButton.style.display="none",progressBar.style.width="0%"):View.width-=1},80)},View.startGame=function(){View.width=100,Model.score=0,problemContainer.innerHTML=Model.calculate(),document.getElementById("myProgress").style.display="block",View.setLineInterval(),View.playButton.style.display="none",View.markButton.style.display="inline-block",View.crossButton.style.display="inline-block"},View.restart=function(){View.width=100,Model.score=0,problemContainer.innerHTML=Model.calculate(),View.setLineInterval(),View.playButton.style.display="inline-block",View.markButton.style.display="none",View.crossButton.style.display="none"},View.counter=function(t){t?(this.score++,this.width+=20,100<this.width&&(this.width=100),progressBar.style.width=View.width+"%"):this.width-=40},View.keyBoards=function(t){var e=!0;32==t.keyCode&&this.width<=0&&this.startGame(),(37==t.keyCode||39==t.keyCode)&&0<this.width&&(37==t.keyCode?(e=this.checkAnswer(!0),this.buttonLight(!0)):39==t.keyCode&&(e=this.checkAnswer(!1),this.buttonLight(!1)),this.counter(e),problemContainer.innerHTML=this.calculate())},View.checker=function(t){var e=!0;e=!0===t?this.checkAnswer(!0):this.checkAnswer(!1),this.counter(e),problemContainer.innerHTML=this.calculate()},View.buttonLight=function(t){t?(this.markButton.classList.add("light"),setTimeout(function(){View.markButton.classList.remove("light")},150)):(this.crossButton.classList.add("light"),setTimeout(function(){View.crossButton.classList.remove("light")},150))};var MathForces=View;MathForces.play=function(){this.frontpage(),this.playButton.addEventListener("click",this.startGame),this.markButton.addEventListener("click",function(){View.checker(!0)}),this.crossButton.addEventListener("click",function(){View.checker(!1)}),document.addEventListener("keydown",function(t){View.keyBoards(t)})},MathForces.play();